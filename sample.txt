import inquirer from 'inquirer';

// Sample exchange rates data (replace with real rates)
const exchangeRates: ({ [key: keyType]: valueType } -> index signature)  = {
    USD: 1,
    EUR: 0.85,
    GBP: 0.73,
    JPY: 110.41,
};

async function convertCurrency() {
    const questions = [
        {
            type: 'input',
            name: 'amount',
            message: 'Enter the amount to convert:',
            validate: (value) => !isNaN(parseFloat(value)) || 'Please enter a valid number',
        },
        {
            type: 'list',
            name: 'fromCurrency',
            message: 'Select the currency to convert from:',
            choices: Object.keys(exchangeRates),
        },
        {
            type: 'list',
            name: 'toCurrency',
            message: 'Select the currency to convert to:',
            choices: Object.keys(exchangeRates),
        },
    ];

    const answers = await inquirer.prompt(questions);
    const { amount, fromCurrency, toCurrency } = answers;

    const conversionRate = exchangeRates[toCurrency] / exchangeRates[fromCurrency];
    const convertedAmount = parseFloat(amount) * conversionRate;

    console.log(`${amount} ${fromCurrency} is equal to ${convertedAmount.toFixed(2)} ${toCurrency}`);
}

convertCurrency();
